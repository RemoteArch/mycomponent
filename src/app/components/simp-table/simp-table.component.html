<div class="relative overflow-x-auto shadow-md sm:rounded-lg"> 

    <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
        <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
            <tr>
                @for(column of columns; track column){
                <th scope="col" class="px-6 py-3">
                    {{column}}
                </th>
                }
            </tr>
        </thead>
        <tbody>
            @for(row of rows; track row.id;){
            <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">

                <td class="px-6 py-4">
                    {{row.firstname}} 
                </td>
                <td class="px-6 py-4">
                    {{row.email}}
                </td>
                <td class="px-6 py-4">
                    {{row.phone}}
                </td>
                <td>
                    {{row.idNumber}}
                </td>
                <td class="px-6 py-4">
                    <div class="inline-block cursor-pointer relative menu-container">
                        <button (click)="toggleMenu(row.id ?? 0)" class="text-gray-600 hover:text-gray-800">
                            <span class="text-xl font-bold">&#x22EF;</span>
                        </button>

                        <!-- Menu dÃ©roulant -->
                        @if(isMenuOpen === row.id){

                            <div class="absolute left-0 mt-1 p-2 w-32 bg-white border border-gray-200 shadow-lg rounded-md">
                                <button class="flex items-center w-full px-4 py-2 text-left text-blue-600 hover:bg-gray-100" (click)="update.emit(row)">
                                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M17.414 2.586a2 2 0 010 2.828l-1.828 1.828-2.828-2.828L14.586 2.586a2 2 0 012.828 0zM9 7.414l-6 6V15h1.586l6-6L9 7.414zm8.586-4.586l-1.828 1.828-2.828-2.828L14.586 2.414A2 2 0 0117.414 2a2 2 0 01-.828.828z" />
                                  </svg>
                                  Edit
                                </button>
                                <button class="flex items-center w-full px-4 py-2 text-left text-red-600 hover:bg-gray-100" (click)="delete.emit(row)">
                                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M6 4a1 1 0 011-1h6a1 1 0 011 1v1h2a1 1 0 110 2H4a1 1 0 010-2h2V4zm3 6a1 1 0 00-1 1v5a1 1 0 102 0v-5a1 1 0 00-1-1zm4 0a1 1 0 00-1 1v5a1 1 0 102 0v-5a1 1 0 00-1-1z" clip-rule="evenodd" />
                                  </svg>
                                  Delete
                                </button>
                              </div>
                         }
                    </div>
                </td>
            </tr>
            }

        </tbody>
    </table>
</div>